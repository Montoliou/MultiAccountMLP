#!/bin/sh
MSG_FILE="$1"
PATTERN='^(feat|fix|docs|style|refactor|perf|test|build|ci|chore|revert)(\([a-z0-9_.-]+\))?!?: .{1,72}'
if ! grep -i -E "$PATTERN" "$MSG_FILE" >/dev/null; then
  echo "‚ùå Commit message must follow Conventional Commits:"
  echo "   <type>(<scope>): <summary>"
  exit 1
fi
exit 0